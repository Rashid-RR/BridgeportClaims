<?xml version="1.0" encoding="utf-8"?>
<html>
  <head>
    <title>Native Compilation Advisor evaluation results for [DWCode].[CallDetail_RingCentral_350048Mod]</title>
  </head>
  <body>
    <p STYLE="font-family: Verdana, Arial, sans-serif; font-size: 14pt;">
      <b>Native Compilation Advisor evaluation results for [DWCode].[CallDetail_RingCentral_350048Mod]</b>
    </p>
    <p STYLE="font-family: Verdana, Arial, sans-serif; font-size: 10pt;">
      <b>Report Date/Time:</b>1/1/2018 5:10 PM<br /></p>
    <table border="1" cellpadding="5" cellspacing="0" STYLE="font-family: Verdana, Arial, sans-serif; font-size: 9pt;">
      <tr style="background-color:Silver">
        <th colspan="1" align="center">Transact-SQL Element</th>
        <th align="center">Transact-SQL Code</th>
        <th align="center">Line Number</th>
      </tr>
      <tr valign="top">
        <td colspan="1">SET OPTION ON</td>
        <td colspan="1">SET XACT_ABORT ON</td>
        <td>2</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">SET NOCOUNT ON</td>
        <td>3</td>
      </tr>
      <tr valign="top">
        <td colspan="1">BEGIN TRANSACTION</td>
        <td colspan="1">BEGIN TRANSACTION</td>
        <td>4</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1">SELECT INTO</td>
        <td colspan="1">SELECT DISTINCT H.Contact_ID
INTO   #ContactsTransferred
FROM   dbo.Contact_Log_Header AS H
       INNER JOIN
       dbo.Contact_Log_Footer AS F
       ON H.Contact_ID = F.Contact_ID
       INNER JOIN
       dbo.Contact_Log_Detail AS D
       ON F.Contact_ID = D.Contact_ID
WHERE  H.Bus_No = @P_Bus_no
       AND H.lastTouched BETWEEN @P_UTCStart_Date AND @P_UTCEnd_Date
       AND d.Contact_State = 5</td>
        <td>19</td>
      </tr>
      <tr valign="top">
        <td colspan="1">CASE</td>
        <td colspan="1">CASE WHEN Cause_Code = '1' THEN 'Check Number - Redial' WHEN Cause_Code = '2' THEN 'No Route to network' WHEN Cause_Code = '3' THEN 'No Route to destination' WHEN Cause_Code = '4' THEN 'No Prefix' WHEN Cause_Code = '5' THEN 'Misdialed Turnk' WHEN Cause_Code = '6' THEN 'Channel Unacceptable' WHEN Cause_Code = '7' THEN 'Call delivered on established channel' WHEN Cause_Code = '8' THEN 'Call is Proceeding' WHEN Cause_Code = '9' THEN 'Preemption reserved' WHEN Cause_Code = '14' THEN 'Excess Digits Received' WHEN Cause_Code = '16' THEN 'Disconnect' WHEN Cause_Code = '17' THEN 'Busy' WHEN Cause_Code = '18' THEN 'No far end response' WHEN Cause_Code = '19' THEN 'No answer' WHEN Cause_Code = '20' THEN 'Subscriber absent' WHEN Cause_Code = '21' THEN 'Call rejected' WHEN Cause_Code = '22' THEN 'Number Changed' WHEN Cause_Code = '26' THEN 'Non Selected User clearing' WHEN Cause_Code = '27' THEN 'Destination out of order' WHEN Cause_Code = '28' THEN 'Incorrect Number' WHEN Cause_Code = '29' THEN 'Facility Rejected' WHEN Cause_Code = '30' THEN 'Special Interecept Announcement' WHEN Cause_Code = '31' THEN 'Network Disconnect' WHEN Cause_Code = '34' THEN 'No Circuit Available' WHEN Cause_Code = '38' THEN 'Net out of order' WHEN Cause_Code = '41' THEN 'Net Problem' WHEN Cause_Code = '42' THEN 'Net Busy, redial' WHEN Cause_Code = '43' THEN 'Access user information discarded' WHEN Cause_Code = '44' THEN 'No Channel Vailable' WHEN Cause_Code = '47' THEN 'Resource Unvailable' WHEN Cause_Code = '49' THEN 'QOS unacceptable' WHEN Cause_Code = '50' THEN 'Requested Facility not subscribed' WHEN Cause_Code = '51' THEN 'Bearer capability incompatible' WHEN Cause_Code = '52' THEN 'Outgoing calls barred' WHEN Cause_Code = '53' THEN 'Service operation violated' WHEN Cause_Code = '54' THEN 'Incoming calls barred' WHEN Cause_Code = '57' THEN 'Bearer Capability not authorized' WHEN Cause_Code = '58' THEN 'Bearer capability not presently avilable' WHEN Cause_Code = '63' THEN 'Service or option not available ' WHEN Cause_Code = '65' THEN 'Bearer Capability not implemented' WHEN Cause_Code = '66' THEN 'Channel type not implemented' WHEN Cause_Code = '69' THEN 'Requested Facility not implemented' WHEN Cause_Code = '70' THEN 'Restricted Only' WHEN Cause_Code = '79' THEN 'Service not implemented' WHEN Cause_Code = '81' THEN 'Invalid call reference' WHEN Cause_Code = '82' THEN 'Channel does not exist' WHEN Cause_Code = '83' THEN 'No Call Identity' WHEN Cause_Code = '84' THEN 'Call Identity in Use' WHEN Cause_Code = '85' THEN 'No Call Suspended' WHEN Cause_Code = '86' THEN 'Requested Call Identity Cleared' WHEN Cause_Code = '88' THEN 'Incompatible Destination' WHEN Cause_Code = '91' THEN 'Invalid Network' WHEN Cause_Code = '95' THEN 'Invalid Message' WHEN Cause_Code = '96' THEN 'Madatory info Missing' WHEN Cause_Code = '97' THEN 'Message Not Implemented' WHEN Cause_Code = '98' THEN 'Message Not Compabible' WHEN Cause_Code = '99' THEN 'Info Non-Existent' WHEN Cause_Code = '100' THEN 'Invalid Information' WHEN Cause_Code = '101' THEN 'Call State/Protocol Error' WHEN Cause_Code = '102' THEN 'Timeout Disconnect' WHEN Cause_Code = '111' THEN 'Protocol Error' WHEN Cause_Code = '127' THEN 'SW56 Disconnect' WHEN Cause_Code = '241' THEN 'Cancelled' WHEN Cause_Code = '246' THEN 'No Answer' WHEN Cause_Code = '247' THEN 'Place Call Link Error' WHEN Cause_Code = '248' THEN 'Managed Transfer' WHEN Cause_Code = '249' THEN 'Blind Transfer' WHEN Cause_Code = '251' THEN 'No Ports' WHEN Cause_Code = '252' THEN 'No Accept' WHEN Cause_Code = '253' THEN 'DTMF Code Reorder' WHEN Cause_Code = '254' THEN 'DTMF Code Busy' WHEN Cause_Code = '255' THEN 'Local Disconnect' ELSE 'Unknown' END</td>
        <td>66</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">CASE WHEN Contact_End_Reason = '1' THEN 'WI Ended Internally' WHEN Contact_End_Reason = '2' THEN 'WI Ended Externally' WHEN Contact_End_Reason = '3' THEN 'Contact Hung Up' WHEN Contact_End_Reason = '4' THEN 'Agent Phone Disconnected' WHEN Contact_End_Reason = '5' THEN 'Agent Hung Up' WHEN Contact_End_Reason = '6' THEN 'Outbound Call Failed With CauseCode' WHEN Contact_End_Reason = '7' THEN 'Outbound Call Script was Interrupted' WHEN Contact_End_Reason = '8' THEN 'Outound Call Peer Hung Up' WHEN Contact_End_Reason = '9' THEN 'Outbound Call No Answer Time Out' WHEN Contact_End_Reason = '10' THEN 'Outbound Call No Media Server Capacity' WHEN Contact_End_Reason = '11' THEN 'Outbound Call Prelink Error' WHEN Contact_End_Reason = '12' THEN 'Outbound Call Hung Up during AMD' WHEN Contact_End_Reason = '13' THEN 'Outbound Call Busy' WHEN Contact_End_Reason = '14' THEN 'Outbound Call Invalid Number' WHEN Contact_End_Reason = '15' THEN 'Outbound Call Number Changed' WHEN Contact_End_Reason = '16' THEN 'Outbound Call Network Busy' WHEN Contact_End_Reason = '17' THEN 'Outbound Call Error' WHEN Contact_End_Reason = '18' THEN 'Call Blind Transferred' WHEN Contact_End_Reason = '19' THEN 'Outbound Call Number Disconnected' ELSE 'Unknown' END</td>
        <td>139</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">CASE WHEN ContactTransferred IS NOT NULL THEN 1 ELSE 0 END</td>
        <td>159</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">CASE WHEN Reskill IN ('1', '2') THEN 1 ELSE 0 END</td>
        <td>160</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">CASE WHEN s.Outbound_Skill = 1 THEN r.to_addr ELSE r.from_addr END</td>
        <td>168</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">CASE WHEN (clg.contact_id IS NOT NULL) THEN 'Y' ELSE 'N' END</td>
        <td>201</td>
      </tr>
      <tr valign="top">
        <td colspan="1">One-part names</td>
        <td colspan="1">#ContactsTransferred AS ct</td>
        <td>223</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1">COMMIT TRANSACTION</td>
        <td colspan="1">COMMIT TRANSACTION</td>
        <td>230</td>
      </tr>
    </table>
  </body>
</html>