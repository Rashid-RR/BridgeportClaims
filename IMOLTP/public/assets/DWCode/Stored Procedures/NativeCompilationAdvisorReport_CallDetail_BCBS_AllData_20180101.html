<?xml version="1.0" encoding="utf-8"?>
<html>
  <head>
    <title>Native Compilation Advisor evaluation results for [DWCode].[CallDetail_BCBS_AllData]</title>
  </head>
  <body>
    <p STYLE="font-family: Verdana, Arial, sans-serif; font-size: 14pt;">
      <b>Native Compilation Advisor evaluation results for [DWCode].[CallDetail_BCBS_AllData]</b>
    </p>
    <p STYLE="font-family: Verdana, Arial, sans-serif; font-size: 10pt;">
      <b>Report Date/Time:</b>1/1/2018 5:11 PM<br /></p>
    <table border="1" cellpadding="5" cellspacing="0" STYLE="font-family: Verdana, Arial, sans-serif; font-size: 9pt;">
      <tr style="background-color:Silver">
        <th colspan="1" align="center">Transact-SQL Element</th>
        <th align="center">Transact-SQL Code</th>
        <th align="center">Line Number</th>
      </tr>
      <tr valign="top">
        <td colspan="1">SET OPTION ON</td>
        <td colspan="1">SET XACT_ABORT ON</td>
        <td>2</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">SET NOCOUNT ON</td>
        <td>3</td>
      </tr>
      <tr valign="top">
        <td colspan="1">BEGIN TRANSACTION</td>
        <td colspan="1">BEGIN TRANSACTION</td>
        <td>4</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1">One-part names</td>
        <td colspan="1">EXECUTE LockCriticalSection 'CallDetail_BCBS_AllData'</td>
        <td>13</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">#Contact_log_header AS clh</td>
        <td>36</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1">SELECT INTO</td>
        <td colspan="1">SELECT F.From_Addr AS ANI,
       F.Contact_ID AS ContactID,
       CONVERT (DATE, dbo.fn_ConvertUTCToTargetTimeZone(h.start_date, @TimeZone)) AS Date,
       F.To_Addr AS DNIS,
       CONVERT (TIME, dbo.fn_ConvertUTCToTargetTimeZone(h.start_date, @TimeZone)) AS Time
INTO   #Contact_Log_Header
FROM   dbo.Contact_Log_Header AS H
       INNER JOIN
       dbo.Contact_Log_Footer AS F
       ON H.Contact_ID = f.Contact_ID
WHERE  h.Bus_NO = @Bus_No
       AND h.start_date BETWEEN @UTCStart_Date AND @UTCEnd_Date</td>
        <td>21</td>
      </tr>
      <tr valign="top">
        <td colspan="1">*</td>
        <td colspan="1">SELECT *
FROM   (SELECT clh.ANI,
               clh.ContactID,
               clh.Date,
               clh.DNIS,
               clh.Time,
               data_name,
               data_value
        FROM   #Contact_log_header AS clh
               INNER JOIN
               dbo.Custom_Contact_Log AS ccl
               ON clh.contactid = ccl.contact_id
        WHERE  Data_Name IN ('CR001', 'CR007', 'CR027', 'CR028a', 'CR028b', 'CR029', 'CR030', 'CR031', 'CR032', 'CR033', 'CR034', 'DE002', 'DE003', 'E001', 'E002', 'E003', 'E004', 'E005', 'E006', 'E007', 'GM011', 'GM014', 'MM004', 'MM005', 'NBC008', 'NBC009', 'NBC010', 'NBC011', 'NBC012', 'NBC014', 'NBC015', 'NBC016', 'NBC017', 'NBC018', 'NBC019', 'NBC020', 'NBC021', 'NBC022', 'NBC023', 'NBC024', 'NBC025', 'NBC026', 'NBC027', 'NBC028', 'NBC030', 'NBC031', 'NBC032', 'NBC033', 'NBC034', 'NBC035', 'NBC036', 'NBC037', 'NBC038', 'NBC039', 'NBC040', 'NBC041', 'NBC045', 'NBC046', 'NBC047', 'NBC048', 'NBC049', 'NBC050', 'NBC051', 'NBC052', 'NBC053', 'NBC054', 'NC001a', 'NC001b', 'NC002a', 'NC002b', 'RX001', 'RX002', 'STC001', 'STC002', 'STC003', 'STC004', 'STC005', 'STC006', 'STC007', 'STC008', 'STC009', 'STC010', 'STC011', 'STC012', 'STC013', 'STC014', 'STC015', 'STC016', 'STC017', 'STC018', 'STC019', 'STC020', 'STC021', 'C001', 'C002', 'C003', 'C006', 'C008', 'C009', 'GM001', 'GM005', 'GMC001', 'AE001', 'AE002', 'AE003', 'BB001', 'C005', 'CR002', 'CR003', 'CR004', 'CR008', 'CR010', 'CR011', 'CR012', 'CR013', 'CR014', 'CR015', 'CR017', 'CR018', 'CR019', 'CR020', 'CR021', 'CR022', 'CR023', 'CR025', 'CR026', 'CR035', 'CR039', 'CR040', 'CR083', 'D001', 'DE001', 'GM008', 'GM009', 'GM010', 'MED001', 'MED002', 'MED003', 'MED004', 'MED005', 'MED006', 'MED007', 'MED010', 'MED011', 'MED012', 'MED013', 'MED014', 'MED015', 'MED016', 'MED017', 'MED018', 'MED019', 'MED020', 'MED021', 'MED022', 'MED023', 'MEDICAL001', 'NBC001', 'NBC002', 'NBC003', 'NBC004', 'NBC005', 'NBC006', 'NBC007', 'NBC057', 'NBC067', 'NMC001', 'NMC002', 'RX003')) AS ccl PIVOT (MIN (Data_value) FOR Data_name IN (CR001, CR007, CR027, CR028a, CR028b, CR029, CR030, CR031, CR032, CR033, CR034, DE002, DE003, E001, E002, E003, E004, E005, E006, E007, GM011, GM014, MM004, MM005, NBC008, NBC009, NBC010, NBC011, NBC012, NBC014, NBC015, NBC016, NBC017, NBC018, NBC019, NBC020, NBC021, NBC022, NBC023, NBC024, NBC025, NBC026, NBC027, NBC028, NBC030, NBC031, NBC032, NBC033, NBC034, NBC035, NBC036, NBC037, NBC038, NBC039, NBC040, NBC041, NBC045, NBC046, NBC047, NBC048, NBC049, NBC050, NBC051, NBC052, NBC053, NBC054, NC001a, NC001b, NC002a, NC002b, RX001, RX002, STC001, STC002, STC003, STC004, STC005, STC006, STC007, STC008, STC009, STC010, STC011, STC012, STC013, STC014, STC015, STC016, STC017, STC018, STC019, STC020, STC021, C001, C002, C003, C006, C008, C009, GM001, GM005, GMC001, AE001, AE002, AE003, BB001, C005, CR002, CR003, CR004, CR008, CR010, CR011, CR012, CR013, CR014, CR015, CR017, CR018, CR019, CR020, CR021, CR022, CR023, CR025, CR026, CR035, CR039, CR040, CR083, D001, DE001, GM008, GM009, GM010, MED001, MED002, MED003, MED004, MED005, MED006, MED007, MED010, MED011, MED012, MED013, MED014, MED015, MED016, MED017, MED018, MED019, MED020, MED021, MED022, MED023, MEDICAL001, NBC001, NBC002, NBC003, NBC004, NBC005, NBC006, NBC007, NBC057, NBC067, NMC001, NMC002, RX003)) AS pivottable</td>
        <td>32</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1">PIVOT</td>
        <td colspan="1">(SELECT clh.ANI,
        clh.ContactID,
        clh.Date,
        clh.DNIS,
        clh.Time,
        data_name,
        data_value
 FROM   #Contact_log_header AS clh
        INNER JOIN
        dbo.Custom_Contact_Log AS ccl
        ON clh.contactid = ccl.contact_id
 WHERE  Data_Name IN ('CR001', 'CR007', 'CR027', 'CR028a', 'CR028b', 'CR029', 'CR030', 'CR031', 'CR032', 'CR033', 'CR034', 'DE002', 'DE003', 'E001', 'E002', 'E003', 'E004', 'E005', 'E006', 'E007', 'GM011', 'GM014', 'MM004', 'MM005', 'NBC008', 'NBC009', 'NBC010', 'NBC011', 'NBC012', 'NBC014', 'NBC015', 'NBC016', 'NBC017', 'NBC018', 'NBC019', 'NBC020', 'NBC021', 'NBC022', 'NBC023', 'NBC024', 'NBC025', 'NBC026', 'NBC027', 'NBC028', 'NBC030', 'NBC031', 'NBC032', 'NBC033', 'NBC034', 'NBC035', 'NBC036', 'NBC037', 'NBC038', 'NBC039', 'NBC040', 'NBC041', 'NBC045', 'NBC046', 'NBC047', 'NBC048', 'NBC049', 'NBC050', 'NBC051', 'NBC052', 'NBC053', 'NBC054', 'NC001a', 'NC001b', 'NC002a', 'NC002b', 'RX001', 'RX002', 'STC001', 'STC002', 'STC003', 'STC004', 'STC005', 'STC006', 'STC007', 'STC008', 'STC009', 'STC010', 'STC011', 'STC012', 'STC013', 'STC014', 'STC015', 'STC016', 'STC017', 'STC018', 'STC019', 'STC020', 'STC021', 'C001', 'C002', 'C003', 'C006', 'C008', 'C009', 'GM001', 'GM005', 'GMC001', 'AE001', 'AE002', 'AE003', 'BB001', 'C005', 'CR002', 'CR003', 'CR004', 'CR008', 'CR010', 'CR011', 'CR012', 'CR013', 'CR014', 'CR015', 'CR017', 'CR018', 'CR019', 'CR020', 'CR021', 'CR022', 'CR023', 'CR025', 'CR026', 'CR035', 'CR039', 'CR040', 'CR083', 'D001', 'DE001', 'GM008', 'GM009', 'GM010', 'MED001', 'MED002', 'MED003', 'MED004', 'MED005', 'MED006', 'MED007', 'MED010', 'MED011', 'MED012', 'MED013', 'MED014', 'MED015', 'MED016', 'MED017', 'MED018', 'MED019', 'MED020', 'MED021', 'MED022', 'MED023', 'MEDICAL001', 'NBC001', 'NBC002', 'NBC003', 'NBC004', 'NBC005', 'NBC006', 'NBC007', 'NBC057', 'NBC067', 'NMC001', 'NMC002', 'RX003')) AS ccl PIVOT (MIN (Data_value) FOR Data_name IN (CR001, CR007, CR027, CR028a, CR028b, CR029, CR030, CR031, CR032, CR033, CR034, DE002, DE003, E001, E002, E003, E004, E005, E006, E007, GM011, GM014, MM004, MM005, NBC008, NBC009, NBC010, NBC011, NBC012, NBC014, NBC015, NBC016, NBC017, NBC018, NBC019, NBC020, NBC021, NBC022, NBC023, NBC024, NBC025, NBC026, NBC027, NBC028, NBC030, NBC031, NBC032, NBC033, NBC034, NBC035, NBC036, NBC037, NBC038, NBC039, NBC040, NBC041, NBC045, NBC046, NBC047, NBC048, NBC049, NBC050, NBC051, NBC052, NBC053, NBC054, NC001a, NC001b, NC002a, NC002b, RX001, RX002, STC001, STC002, STC003, STC004, STC005, STC006, STC007, STC008, STC009, STC010, STC011, STC012, STC013, STC014, STC015, STC016, STC017, STC018, STC019, STC020, STC021, C001, C002, C003, C006, C008, C009, GM001, GM005, GMC001, AE001, AE002, AE003, BB001, C005, CR002, CR003, CR004, CR008, CR010, CR011, CR012, CR013, CR014, CR015, CR017, CR018, CR019, CR020, CR021, CR022, CR023, CR025, CR026, CR035, CR039, CR040, CR083, D001, DE001, GM008, GM009, GM010, MED001, MED002, MED003, MED004, MED005, MED006, MED007, MED010, MED011, MED012, MED013, MED014, MED015, MED016, MED017, MED018, MED019, MED020, MED021, MED022, MED023, MEDICAL001, NBC001, NBC002, NBC003, NBC004, NBC005, NBC006, NBC007, NBC057, NBC067, NMC001, NMC002, RX003)) AS pivottable</td>
        <td>33</td>
      </tr>
      <tr valign="top">
        <td colspan="1">COMMIT TRANSACTION</td>
        <td colspan="1">COMMIT TRANSACTION</td>
        <td>381</td>
      </tr>
    </table>
  </body>
</html>