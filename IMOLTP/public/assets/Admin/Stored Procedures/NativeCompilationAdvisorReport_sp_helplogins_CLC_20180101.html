<?xml version="1.0" encoding="utf-8"?>
<html>
  <head>
    <title>Native Compilation Advisor evaluation results for [Admin].[sp_helplogins_CLC]</title>
  </head>
  <body>
    <p STYLE="font-family: Verdana, Arial, sans-serif; font-size: 14pt;">
      <b>Native Compilation Advisor evaluation results for [Admin].[sp_helplogins_CLC]</b>
    </p>
    <p STYLE="font-family: Verdana, Arial, sans-serif; font-size: 10pt;">
      <b>Report Date/Time:</b>1/1/2018 4:58 PM<br /></p>
    <table border="1" cellpadding="5" cellspacing="0" STYLE="font-family: Verdana, Arial, sans-serif; font-size: 9pt;">
      <tr style="background-color:Silver">
        <th colspan="1" align="center">Transact-SQL Element</th>
        <th align="center">Transact-SQL Code</th>
        <th align="center">Line Number</th>
      </tr>
      <tr valign="top">
        <td colspan="1">SET OPTION ON</td>
        <td colspan="1">SET NOCOUNT ON</td>
        <td>1</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1">GOTO</td>
        <td colspan="1">GOTO label_86return</td>
        <td>69</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">BREAK</td>
        <td>148</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">CONTINUE</td>
        <td>160</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">CONTINUE</td>
        <td>175</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">CONTINUE</td>
        <td>191</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">CONTINUE</td>
        <td>203</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">CONTINUE</td>
        <td>209</td>
      </tr>
      <tr valign="top">
        <td colspan="1">Three-part names</td>
        <td colspan="1">master.dbo.spt_values</td>
        <td>76</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">master.dbo.spt_values</td>
        <td>81</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">master.dbo.spt_values</td>
        <td>86</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">master.dbo.spt_values</td>
        <td>91</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">master.dbo.spt_values</td>
        <td>96</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">master.dbo.spt_values</td>
        <td>101</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">master.dbo.spt_values</td>
        <td>106</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">master.dbo.sysdatabases</td>
        <td>120</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">master.dbo.syslogins</td>
        <td>287</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">master.dbo.sysremotelogins</td>
        <td>326</td>
      </tr>
      <tr valign="top">
        <td colspan="1">Cursors</td>
        <td colspan="1">CURSOR LOCAL STATIC
    FOR SELECT name,
               status,
               sid
        FROM   master.dbo.sysdatabases</td>
        <td>117</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1">FETCH CURSOR</td>
        <td colspan="1">FETCH NEXT FROM ms_crs_10_DB INTO @c10DBName, @c10DBStatus, @c10DBSID</td>
        <td>135</td>
      </tr>
      <tr valign="top">
        <td colspan="1">@@fetch_status</td>
        <td colspan="1">@@fetch_status</td>
        <td>145</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1">DB_ID</td>
        <td colspan="1">db_id(@c10DBName)</td>
        <td>170</td>
      </tr>
      <tr valign="top">
        <td colspan="1">HAS_DBACCESS</td>
        <td colspan="1">has_dbaccess(@c10DBName)</td>
        <td>206</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1">QUOTENAME</td>
        <td colspan="1">quotename(@c10DBName, '''')</td>
        <td>224</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">quotename(@c10DBName, '[')</td>
        <td>229</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">quotename(@LoginNamePattern, '''')</td>
        <td>236</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">quotename(@LoginNamePattern, '''')</td>
        <td>237</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">quotename(@c10DBName, '''')</td>
        <td>243</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">quotename(@c10DBName, '[')</td>
        <td>248</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">quotename(@c10DBName, '[')</td>
        <td>249</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">quotename(@c10DBName, '[')</td>
        <td>250</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">quotename(@LoginNamePattern, '''')</td>
        <td>259</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">quotename(@LoginNamePattern, '''')</td>
        <td>260</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1">CASE</td>
        <td colspan="1">CASE WHEN @LoginNamePattern IS NULL THEN '' ELSE ' and ( l.name = N' + quotename(@LoginNamePattern, '''') + '
								or l.name = N' + quotename(@LoginNamePattern, '''') + ')' END</td>
        <td>233</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">CASE WHEN @LoginNamePattern IS NULL THEN '' ELSE ' and ( l.name = N' + quotename(@LoginNamePattern, '''') + '
								or l.name = N' + quotename(@LoginNamePattern, '''') + ')' END</td>
        <td>256</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">CASE @CountSkipPossUsers WHEN 0 THEN 'NO' ELSE '?' END</td>
        <td>311</td>
      </tr>
      <tr valign="top">
        <td colspan="1">EXECUTE string</td>
        <td colspan="1">EXECUTE (@exec_stmt)</td>
        <td>263</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">EXECUTE ('
set nocount off


select
          ''LoginName''    = substring (LoginName  ,1 ,' + @charMaxLenLoginName + ')

         ,''DBName''       = substring (DBName     ,1 ,' + @charMaxLenDBName + ')

         ,''UserName''     = substring (UserName   ,1 ,' + @charMaxLenUserName + ')

         ,UserOrAlias
   from
          #tb1_UA
   order by
          1 ,2 ,3


Set nocount on
')</td>
        <td>418</td>
      </tr>
      <tr valign="top">
        <td colspan="1">One-part names</td>
        <td colspan="1">#tb2_PlainLogins</td>
        <td>270</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">#tb2_PlainLogins</td>
        <td>296</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">#tb2_PlainLogins</td>
        <td>300</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">#tb1_UA AS tb1</td>
        <td>301</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">#tb2_PlainLogins</td>
        <td>308</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">#tb2_PlainLogins</td>
        <td>321</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">#tb2_PlainLogins</td>
        <td>325</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">#tb2_PlainLogins</td>
        <td>333</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">#tb2_PlainLogins</td>
        <td>358</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">#tb1_UA</td>
        <td>412</td>
      </tr>
      <tr valign="top">
        <td colspan="1">UPDATE with FROM clause</td>
        <td colspan="1">
FROM #tb2_PlainLogins, #tb1_UA AS tb1</td>
        <td>299</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">
FROM #tb2_PlainLogins, master.dbo.sysremotelogins AS rl</td>
        <td>324</td>
      </tr>
      <tr valign="top">
        <td colspan="1">DATALENGTH</td>
        <td colspan="1">datalength(LoginName)</td>
        <td>347</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">datalength(DefDBName)</td>
        <td>351</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">datalength(DefLangName)</td>
        <td>355</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">datalength(LoginName)</td>
        <td>401</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">datalength(DBName)</td>
        <td>405</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">datalength(UserName)</td>
        <td>409</td>
      </tr>
      <tr valign="top">
        <td colspan="1">OBJECT_ID</td>
        <td colspan="1">object_id('#tb2_PlainLogins')</td>
        <td>448</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">object_id('#tb1_UA')</td>
        <td>451</td>
      </tr>
    </table>
  </body>
</html>