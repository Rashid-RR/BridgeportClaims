<?xml version="1.0" encoding="utf-8"?>
<html>
  <head>
    <title>Native Compilation Advisor evaluation results for [Admin].[populate_AllDbSizes]</title>
  </head>
  <body>
    <p STYLE="font-family: Verdana, Arial, sans-serif; font-size: 14pt;">
      <b>Native Compilation Advisor evaluation results for [Admin].[populate_AllDbSizes]</b>
    </p>
    <p STYLE="font-family: Verdana, Arial, sans-serif; font-size: 10pt;">
      <b>Report Date/Time:</b>1/1/2018 4:59 PM<br /></p>
    <table border="1" cellpadding="5" cellspacing="0" STYLE="font-family: Verdana, Arial, sans-serif; font-size: 9pt;">
      <tr style="background-color:Silver">
        <th colspan="1" align="center">Transact-SQL Element</th>
        <th align="center">Transact-SQL Code</th>
        <th align="center">Line Number</th>
      </tr>
      <tr valign="top">
        <td colspan="1">SET OPTION ON</td>
        <td colspan="1">SET NOCOUNT ON</td>
        <td>12</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1">QUOTED_IDENTIFIER</td>
        <td colspan="1">SET QUOTED_IDENTIFIER OFF</td>
        <td>13</td>
      </tr>
      <tr valign="top">
        <td colspan="1">@@version</td>
        <td colspan="1">@@VERSION</td>
        <td>16</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1">OBJECT_ID</td>
        <td colspan="1">OBJECT_ID('AllDbSizes')</td>
        <td>18</td>
      </tr>
      <tr valign="top">
        <td colspan="1">Cursors</td>
        <td colspan="1">CURSOR
    FOR SELECT name
        FROM   sys.databases
        WHERE  state = 0
               AND user_access_desc = 'MULTI_USER'</td>
        <td>48</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">CURSOR
    FOR SELECT name
        FROM   master.dbo.sysdatabases
        WHERE  databasepropertyex(name, 'status') = 'online'
               AND databaseproperty(name, 'isreadonly') = 0
               AND databaseproperty(name, 'IsInStandBy') = 0
               AND databaseproperty(name, 'IsSingleUser') = 0</td>
        <td>122</td>
      </tr>
      <tr valign="top">
        <td colspan="1">FETCH CURSOR</td>
        <td colspan="1">FETCH NEXT FROM ACT_CURS INTO @name</td>
        <td>54</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">FETCH NEXT FROM ACT_CURS INTO @name</td>
        <td>82</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">FETCH NEXT FROM ACT_CURS INTO @name2</td>
        <td>131</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">FETCH NEXT FROM ACT_CURS INTO @name2</td>
        <td>149</td>
      </tr>
      <tr valign="top">
        <td colspan="1">@@fetch_status</td>
        <td colspan="1">@@fetch_status</td>
        <td>55</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">@@fetch_status</td>
        <td>132</td>
      </tr>
      <tr valign="top">
        <td colspan="1">@@servername</td>
        <td colspan="1">@@servername</td>
        <td>62</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">@@servername</td>
        <td>91</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">@@servername</td>
        <td>138</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1">EXECUTE string</td>
        <td colspan="1">EXECUTE (@sql)</td>
        <td>80</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">EXECUTE (@sql2)</td>
        <td>147</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1">Three-part names</td>
        <td colspan="1">admin.dbo.AllDbSizes</td>
        <td>88</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">master.dbo.sysdatabases</td>
        <td>123</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1">DB_NAME</td>
        <td colspan="1">DB_name(m.database_id)</td>
        <td>91</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">DB_name(m.database_id)</td>
        <td>107</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1">CASE</td>
        <td colspan="1">CASE WHEN m.is_Percent_growth = 1 THEN m.Growth WHEN m.growth = 0
                                                     AND m.is_Percent_growth = 0 THEN 0 WHEN m.growth &gt; 0 THEN ((m.growth * 8) / 1024) END</td>
        <td>97</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">CASE WHEN m.is_Percent_growth = 1 THEN 'Percent' WHEN m.is_Percent_growth = 0 THEN 'MB' ELSE 'Unknown' END</td>
        <td>100</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1">DATABASEPROPERTYEX</td>
        <td colspan="1">databasepropertyex(name, 'status')</td>
        <td>124</td>
      </tr>
      <tr valign="top">
        <td colspan="1">DATABASEPROPERTY</td>
        <td colspan="1">databaseproperty(name, 'isreadonly')</td>
        <td>125</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">databaseproperty(name, 'IsInStandBy')</td>
        <td>126</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">databaseproperty(name, 'IsSingleUser')</td>
        <td>127</td>
      </tr>
    </table>
  </body>
</html>