<?xml version="1.0" encoding="utf-8"?>
<html>
  <head>
    <title>Native Compilation Advisor evaluation results for [API_SPOT2000].[SPAPI_01_RetrieveCountryID]</title>
  </head>
  <body>
    <p STYLE="font-family: Verdana, Arial, sans-serif; font-size: 14pt;">
      <b>Native Compilation Advisor evaluation results for [API_SPOT2000].[SPAPI_01_RetrieveCountryID]</b>
    </p>
    <p STYLE="font-family: Verdana, Arial, sans-serif; font-size: 10pt;">
      <b>Report Date/Time:</b>3/11/2019 10:31 AM<br /></p>
    <table border="1" cellpadding="5" cellspacing="0" STYLE="font-family: Verdana, Arial, sans-serif; font-size: 9pt;">
      <tr style="background-color:Silver">
        <th colspan="1" align="center">Transact-SQL Element</th>
        <th align="center">Transact-SQL Code</th>
        <th align="center">Line Number</th>
      </tr>
      <tr valign="top">
        <td colspan="1">SET OPTION ON</td>
        <td colspan="1">SET NOCOUNT ON</td>
        <td>2</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1">*</td>
        <td colspan="1">WITH     Child (Generation, InstanceID, ParentInstanceID, [Name], NodeTypeID)
AS       (SELECT 0 AS Generation,
                 LOC.InstanceID,
                 LOC.ParentInstanceID,
                 LOC.[Name],
                 LOC.NodeTypeID
          FROM   SPAccountNode AS SPAN WITH (NOLOCK)
                 INNER JOIN
                 SPLocalityNode AS LOC WITH (NOLOCK)
                 ON LOC.InstanceID = SPAN.SPLocalityNodeID
          WHERE  SPAN.InstanceID = @SPAccountNodeID
          UNION ALL
          SELECT Child.Generation + 1 AS Generation,
                 Parent.InstanceID,
                 Parent.ParentInstanceID,
                 Parent.[Name],
                 Parent.NodeTypeID
          FROM   Child, SPLocalityNode AS Parent
          WHERE  Parent.InstanceID = Child.ParentInstanceID)
SELECT   TOP 1 *
FROM     Child
WHERE    NodeTypeID = 165
ORDER BY Generation DESC</td>
        <td>6</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">WITH     Child (Generation, InstanceID, ParentInstanceID, [Name], NodeTypeID)
AS       (SELECT 0 AS Generation,
                 LOC.InstanceID,
                 LOC.ParentInstanceID,
                 LOC.[Name],
                 LOC.NodeTypeID
          FROM   SPWorkstation AS SPW WITH (NOLOCK)
                 INNER JOIN
                 SPAccountNode AS SPAN WITH (NOLOCK)
                 ON SPAN.InstanceID = SPW.SPAccountNodeID
                 INNER JOIN
                 SPLocalityNode AS LOC WITH (NOLOCK)
                 ON LOC.InstanceID = SPAN.SPLocalityNodeID
          WHERE  SPW.InstanceID = @SPWorkstationID
          UNION ALL
          SELECT Child.Generation + 1 AS Generation,
                 Parent.InstanceID,
                 Parent.ParentInstanceID,
                 Parent.[Name],
                 Parent.NodeTypeID
          FROM   Child, SPLocalityNode AS Parent
          WHERE  Parent.InstanceID = Child.ParentInstanceID)
SELECT   TOP 1 *
FROM     Child
WHERE    NodeTypeID = 165
ORDER BY Generation DESC</td>
        <td>26</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1">One-part names</td>
        <td colspan="1">Child</td>
        <td>20</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">SPAccountNode AS SPAN WITH (NOLOCK)</td>
        <td>9</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">SPLocalityNode AS LOC WITH (NOLOCK)</td>
        <td>10</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">Child</td>
        <td>16</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">SPLocalityNode AS Parent</td>
        <td>16</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">Child</td>
        <td>41</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">SPWorkstation AS SPW WITH (NOLOCK)</td>
        <td>29</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">SPAccountNode AS SPAN WITH (NOLOCK)</td>
        <td>30</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">SPLocalityNode AS LOC WITH (NOLOCK)</td>
        <td>31</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">Child</td>
        <td>37</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">SPLocalityNode AS Parent</td>
        <td>37</td>
      </tr>
      <tr valign="top">
        <td colspan="1">WITH clause</td>
        <td colspan="1">WITH Child (Generation, InstanceID, ParentInstanceID, [Name], NodeTypeID)
AS (SELECT 0 AS Generation,
           LOC.InstanceID,
           LOC.ParentInstanceID,
           LOC.[Name],
           LOC.NodeTypeID
    FROM   SPAccountNode AS SPAN WITH (NOLOCK)
           INNER JOIN
           SPLocalityNode AS LOC WITH (NOLOCK)
           ON LOC.InstanceID = SPAN.SPLocalityNodeID
    WHERE  SPAN.InstanceID = @SPAccountNodeID
    UNION ALL
    SELECT Child.Generation + 1 AS Generation,
           Parent.InstanceID,
           Parent.ParentInstanceID,
           Parent.[Name],
           Parent.NodeTypeID
    FROM   Child, SPLocalityNode AS Parent
    WHERE  Parent.InstanceID = Child.ParentInstanceID)</td>
        <td>6</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1"> Child (Generation, InstanceID, ParentInstanceID, [Name], NodeTypeID)
AS (SELECT 0 AS Generation,
           LOC.InstanceID,
           LOC.ParentInstanceID,
           LOC.[Name],
           LOC.NodeTypeID
    FROM   SPAccountNode AS SPAN WITH (NOLOCK)
           INNER JOIN
           SPLocalityNode AS LOC WITH (NOLOCK)
           ON LOC.InstanceID = SPAN.SPLocalityNodeID
    WHERE  SPAN.InstanceID = @SPAccountNodeID
    UNION ALL
    SELECT Child.Generation + 1 AS Generation,
           Parent.InstanceID,
           Parent.ParentInstanceID,
           Parent.[Name],
           Parent.NodeTypeID
    FROM   Child, SPLocalityNode AS Parent
    WHERE  Parent.InstanceID = Child.ParentInstanceID)</td>
        <td>6</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">WITH Child (Generation, InstanceID, ParentInstanceID, [Name], NodeTypeID)
AS (SELECT 0 AS Generation,
           LOC.InstanceID,
           LOC.ParentInstanceID,
           LOC.[Name],
           LOC.NodeTypeID
    FROM   SPWorkstation AS SPW WITH (NOLOCK)
           INNER JOIN
           SPAccountNode AS SPAN WITH (NOLOCK)
           ON SPAN.InstanceID = SPW.SPAccountNodeID
           INNER JOIN
           SPLocalityNode AS LOC WITH (NOLOCK)
           ON LOC.InstanceID = SPAN.SPLocalityNodeID
    WHERE  SPW.InstanceID = @SPWorkstationID
    UNION ALL
    SELECT Child.Generation + 1 AS Generation,
           Parent.InstanceID,
           Parent.ParentInstanceID,
           Parent.[Name],
           Parent.NodeTypeID
    FROM   Child, SPLocalityNode AS Parent
    WHERE  Parent.InstanceID = Child.ParentInstanceID)</td>
        <td>26</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1"> Child (Generation, InstanceID, ParentInstanceID, [Name], NodeTypeID)
AS (SELECT 0 AS Generation,
           LOC.InstanceID,
           LOC.ParentInstanceID,
           LOC.[Name],
           LOC.NodeTypeID
    FROM   SPWorkstation AS SPW WITH (NOLOCK)
           INNER JOIN
           SPAccountNode AS SPAN WITH (NOLOCK)
           ON SPAN.InstanceID = SPW.SPAccountNodeID
           INNER JOIN
           SPLocalityNode AS LOC WITH (NOLOCK)
           ON LOC.InstanceID = SPAN.SPLocalityNodeID
    WHERE  SPW.InstanceID = @SPWorkstationID
    UNION ALL
    SELECT Child.Generation + 1 AS Generation,
           Parent.InstanceID,
           Parent.ParentInstanceID,
           Parent.[Name],
           Parent.NodeTypeID
    FROM   Child, SPLocalityNode AS Parent
    WHERE  Parent.InstanceID = Child.ParentInstanceID)</td>
        <td>26</td>
      </tr>
      <tr valign="top">
        <td colspan="1">NOLOCK</td>
        <td colspan="1">NOLOCK</td>
        <td>9</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">NOLOCK</td>
        <td>10</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">NOLOCK</td>
        <td>29</td>
      </tr>
      <tr valign="top" style="background-color:LightYellow">
        <td colspan="1"></td>
        <td colspan="1">NOLOCK</td>
        <td>30</td>
      </tr>
      <tr valign="top">
        <td colspan="1"></td>
        <td colspan="1">NOLOCK</td>
        <td>31</td>
      </tr>
    </table>
  </body>
</html>