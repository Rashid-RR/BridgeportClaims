<div class="row invoice-info">
    <div class="col-sm-12 invoice-col">          
      <div class="table-responsive top-header scroll-y">
        <table class="table no-margin table-striped">
          <thead class="overflowable">
            <tr (tableSort)="onSortColumn($event)" #myTable='table-sort'>
              <th columnSort="postedDate" [sort-table]="myTable">	Posted Date</th>
              <th columnSort="checkNumber" [sort-table]="myTable">Check Num</th>
              <th columnSort="checkAmt" [sort-table]="myTable">Check Amount</th>
              <th columnSort="rxNumber" [sort-table]="myTable">Rx Num</th>
              <th columnSort="rxDate" [sort-table]="myTable">Rx Date</th>
              <th columnSort="invoiceNumber" [sort-table]="myTable">	Inv Num</th>
              <th>&nbsp;</th>
            </tr>
            </thead>
        </table>
      </div>
      <form role="form" [formGroup]="form" autocomplete="off" autocapitalize="none" autocomplete="off" (keyup.enter)="saveButton.click()">
      <div class="table-responsive table-body scroll-y">
        <table class="table no-margin table-striped" id="maintable">
            <tbody class="overflowable" #paymentsTable tabindex="0">
              <tr *ngFor="let pay of payments">
                <ng-container *ngIf="editingPaymentId==pay.prescriptionPaymentId">
                    <td>
                      <div class="input-group">
                        <input class="form-control"  (keypress)="checkNumber($event)" name="postedDate" formControlName="postedDate" (change)="textChange('postedDate')"  (focus)="submitted=false">
                    </div>
                  </td>
                    <td>                      
                        <div class="input-group">
                            <input class="form-control"  (keypress)="checkNumber($event)" name="checkNumber" formControlName="checkNumber" (change)="textChange('checkNumber')"  (focus)="submitted=false">
                        </div>
                    </td>
                    <td>                      
                        <div class="input-group">
                            <div class="input-group-addon">$</div>
                            <input class="form-control"  (keypress)="checkNumber($event)" name="checkAmt" formControlName="checkAmt" (change)="textChange('checkAmt')"  (focus)="submitted=false">
                        </div>  
                    </td>   
                    <td>
                        <div class="input-group">
                          <input class="form-control"  (keypress)="checkNumber($event)" name="rxNumber" formControlName="rxNumber" (change)="textChange('rxNumber')"  (focus)="submitted=false">
                      </div>
                    </td> 
                    <td>
                        <div class="input-group">
                            <input class="form-control"  (keypress)="checkNumber($event)" name="rxDate" formControlName="rxDate" (change)="textChange('rxDate')"  (focus)="submitted=false">
                        </div>  
                    </td>    
                    <td>
                      
                        <div class="input-group">
                            <input class="form-control"  (keypress)="checkNumber($event)" name="invoiceNumber" formControlName="invoiceNumber" (change)="textChange('invoiceNumber')"  (focus)="submitted=false">
                        </div>
                    </td>       
                    <td>
                        <button #saveButton type="button" class="btn btn-primary btn-xs" (click)="savePayment(pay)">
                            <span class="glyphicon glyphicon-edit"></span> SAVE
                        </button>
                        <button type="button" class="btn btn-danger btn-xs" (click)="cancel()">
                            <span class="glyphicon glyphicon-trash"></span> Cancel
                        </button>  
                    </td>
                </ng-container>
                <ng-container *ngIf="editingPaymentId!=pay.prescriptionPaymentId">
                  <td>{{pay.postedDate  | date:"shortDate"}}</td>
                  <td>{{pay.checkNumber}}</td>
                  <td>{{pay.checkAmt  | currency:'USD':true:'1.2-2'}}</td>   
                  <td>{{pay.rxNumber}}</td> 
                  <td>{{pay.rxDate  | date:"shortDate"}}</td>    
                  <td>{{pay.invoiceNumber}}</td>       
                  <td>
                      <button type="button" class="btn btn-primary btn-xs" (click)="update(pay)">
                          <span class="glyphicon glyphicon-edit"></span> Edit
                      </button>
                      <button type="button" class="btn btn-danger btn-xs" (click)="del(pay)">
                          <span class="glyphicon glyphicon-trash"></span> Delete
                      </button>  
                  </td>
                </ng-container>       
              </tr>
              </tbody>
            </table>
        </div>
      </form>
    </div>
  </div>